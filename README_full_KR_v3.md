
# ğŸ° Kiwoom Lottery â€” í”„ë¡œì íŠ¸ êµ¬ì¡° ì‹œê°í™” (í†µí•© README, í•œê¸€íŒ v3)

> ì´ ë¬¸ì„œëŠ” ì‹¤ì œ í”„ë¡œì íŠ¸(`PROJECT_STRUCTURE.md`, `TECHNICAL.md`, `WORK_LOG_2025-10-20/21.md`)ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì‘ì„±ëœ
> **ì‹¤ì¡´ í´ë” ë° íŒŒì¼ë§Œ í¬í•¨í•œ ì™„ì „í•œ ì‹œê°í™” êµ¬ì¡°ë„**ì…ë‹ˆë‹¤.

---

## ğŸ§­ 1ï¸âƒ£ ì „ì²´ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
kiwoom-lottery/
â”œâ”€â”€ contracts/                  # ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ (Foundry ê¸°ë°˜)
â”‚
â”œâ”€â”€ frontend/                   # Next.js í”„ë¡ íŠ¸ì—”ë“œ (App Router)
â”‚
â”œâ”€â”€ .env                        # í™˜ê²½ ë³€ìˆ˜ (ë¹„ê³µê°œ)
â”œâ”€â”€ README.md                   # í”„ë¡œì íŠ¸ ì„¤ëª…ì„œ
â””â”€â”€ ë¬¸ì„œë“¤ (.md)                # ì‘ì—… ë¡œê·¸ ë° ì„¤ì • ë¬¸ì„œ
```

---

## âš™ï¸ 2ï¸âƒ£ Contracts êµ¬ì¡°

```
contracts/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ Lottery.sol              # ë©”ì¸ ë¡œë˜ ì»¨íŠ¸ë™íŠ¸
â”‚   â”‚   â”œâ”€â”€ buyTicket()                # í‹°ì¼“ êµ¬ë§¤
â”‚   â”‚   â”œâ”€â”€ requestRandomWinningNumbers() # VRF ìš”ì²­
â”‚   â”‚   â”œâ”€â”€ setWinningNumbersForTest() # í…ŒìŠ¤íŠ¸ìš© ë‹¹ì²¨ë²ˆí˜¸ ì„¤ì •
â”‚   â”‚   â””â”€â”€ _distributePrizes()        # ìƒê¸ˆ ë¶„ë°°
â”‚   â””â”€â”€ MockVRF.sol              # í…ŒìŠ¤íŠ¸ìš© VRF (ë‚œìˆ˜ ìƒì„±ê¸°)
â”‚       â”œâ”€â”€ fulfillRequest()           # VRF ì‘ë‹µ ì²˜ë¦¬
â”‚       â””â”€â”€ randomWords()              # ë‚œìˆ˜ ë°˜í™˜
â”‚
â”œâ”€â”€ script/
â”‚   â””â”€â”€ Deploy.s.sol             # Foundry ë°°í¬ ìŠ¤í¬ë¦½íŠ¸
â”‚
â”œâ”€â”€ test/
â”‚   â””â”€â”€ Lottery.t.sol            # ë‹¨ìœ„ í…ŒìŠ¤íŠ¸
â”‚
â””â”€â”€ foundry.toml                 # Foundry ì„¤ì • íŒŒì¼
```

ğŸ“˜ **ì„¤ëª…**
- `Lottery.sol`: ë¡œë˜ í•µì‹¬ ë¡œì§ â€” íšŒì°¨ ê´€ë¦¬, í‹°ì¼“ êµ¬ë§¤, ì¶”ì²¨, ìƒê¸ˆ ë¶„ë°°
- `MockVRF.sol`: í…ŒìŠ¤íŠ¸ í™˜ê²½ìš© ë‚œìˆ˜ ìƒì„±ê¸° (ì‹¤ì œ VRF ëŒ€ì²´)
- `Deploy.s.sol`: ì»¨íŠ¸ë™íŠ¸ ë°°í¬ ìë™í™” ìŠ¤í¬ë¦½íŠ¸
- `Lottery.t.sol`: ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì½”ë“œ

---

## ğŸ’» 3ï¸âƒ£ Frontend êµ¬ì¡°

```
frontend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/                      # Next.js App Router êµ¬ì¡°
â”‚   â”‚   â”œâ”€â”€ page.tsx              # ì‚¬ìš©ì + ê´€ë¦¬ì UI í†µí•© í˜ì´ì§€
â”‚   â”‚   â”œâ”€â”€ layout.tsx            # ì „ì²´ ë ˆì´ì•„ì›ƒ
â”‚   â”‚   â”œâ”€â”€ globals.css           # ì „ì—­ ìŠ¤íƒ€ì¼
â”‚   â”‚   â””â”€â”€ favicon.ico
â”‚   â”‚
â”‚   â”œâ”€â”€ components/               # ê³µí†µ UI ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”œâ”€â”€ LoadingSpinner.tsx    # ë¡œë”© ì¤‘ í‘œì‹œ
â”‚   â”‚   â”œâ”€â”€ TransactionModal.tsx  # íŠ¸ëœì­ì…˜ ìƒíƒœ ëª¨ë‹¬
â”‚   â”‚   â””â”€â”€ Button.tsx            # ë²„íŠ¼ ìŠ¤íƒ€ì¼
â”‚   â”‚
â”‚   â”œâ”€â”€ lib/                      # Web3 ë° ìƒíƒœ ê´€ë ¨ í•µì‹¬ ë¡œì§
â”‚   â”‚   â”œâ”€â”€ provider.ts           # ethers.js Provider / Signer ì´ˆê¸°í™”
â”‚   â”‚   â”œâ”€â”€ contract.ts           # ì»¨íŠ¸ë™íŠ¸ ì¸ìŠ¤í„´ìŠ¤ ìƒì„±
â”‚   â”‚   â”œâ”€â”€ constants.ts          # ë„¤íŠ¸ì›Œí¬ ë° ì£¼ì†Œ ìƒìˆ˜
â”‚   â”‚   â””â”€â”€ wallet.ts             # MetaMask ì—°ê²° / ê³„ì • ë³€ê²½ ê´€ë¦¬
â”‚   â”‚
â”‚   â”œâ”€â”€ abi/                      # ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ ABI
â”‚   â”‚   â”œâ”€â”€ LotteryABI.json
â”‚   â”‚   â””â”€â”€ MockVRFABI.json
â”‚   â”‚
â”‚   â””â”€â”€ styles/
â”‚       â””â”€â”€ home.styles.js        # ì¸ë¼ì¸ ìŠ¤íƒ€ì¼ ì •ì˜
â”‚
â”œâ”€â”€ public/                       # ì •ì  íŒŒì¼
â”‚   â”œâ”€â”€ images/
â”‚   â”‚   â””â”€â”€ logo.png
â”‚   â””â”€â”€ fonts/
â”‚       â””â”€â”€ SF-Pro.ttf
â”‚
â”œâ”€â”€ package.json                  # ì˜ì¡´ì„± ëª©ë¡
â””â”€â”€ next.config.js                # Next.js ì„¤ì •
```

ğŸ“˜ **ì„¤ëª…**
- `app/`: UI ì§„ì…ì . ì‚¬ìš©ì í‹°ì¼“ êµ¬ë§¤ì™€ ê´€ë¦¬ì íšŒì°¨ ê´€ë¦¬ í™”ë©´ì„ í¬í•¨.  
- `components/`: ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ì»´í¬ë„ŒíŠ¸ ì§‘í•© (ë¡œë”©, ëª¨ë‹¬ ë“±).  
- `lib/`: Web3 í•µì‹¬ ë¡œì§. provider, contract ì´ˆê¸°í™” ë° MetaMask ì—°ê²° ê´€ë¦¬.  
- `abi/`: ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ì˜ ABI íŒŒì¼(JSON).  
- `styles/`: JS ê¸°ë°˜ ìŠ¤íƒ€ì¼ ì •ì˜.  
- `public/`: ì´ë¯¸ì§€, í°íŠ¸ ë“± ì •ì  ìì›.

---

## ğŸ§  4ï¸âƒ£ Frontend/lib ë‚´ë¶€ êµ¬ì¡°

```
frontend/src/lib/
â”œâ”€â”€ provider.ts        # ethers.js Provider, Signer ìƒì„±
â”œâ”€â”€ contract.ts        # Lottery / MockVRF ì»¨íŠ¸ë™íŠ¸ ì¸ìŠ¤í„´ìŠ¤ ìƒì„±
â”œâ”€â”€ constants.ts       # ì²´ì¸ ID, ì£¼ì†Œ ë“± ìƒìˆ˜ ê´€ë¦¬
â””â”€â”€ wallet.ts          # MetaMask ì—°ê²° / ê³„ì • ì „í™˜ ì´ë²¤íŠ¸ ê´€ë¦¬
```

ğŸ“˜ **lib ì—­í•  ìš”ì•½**
| íŒŒì¼ | ì„¤ëª… |
|------|------|
| **provider.ts** | ethers.js Provider ì´ˆê¸°í™” ë° signer ë°˜í™˜ |
| **contract.ts** | ABI + ì£¼ì†Œ ê¸°ë°˜ìœ¼ë¡œ ì»¨íŠ¸ë™íŠ¸ ì—°ê²° í•¨ìˆ˜ ì œê³µ |
| **constants.ts** | í…ŒìŠ¤íŠ¸ë„·, ì£¼ì†Œ, ì²´ì¸ ID ìƒìˆ˜ ë³´ê´€ |
| **wallet.ts** | MetaMask ì—°ê²°, ê³„ì • ë³€ê²½ ì´ë²¤íŠ¸ í•¸ë“¤ë§ |

---

âœ… ì´ ë¬¸ì„œì—ëŠ” í”„ë¡œì íŠ¸ì— ì‹¤ì œ ì¡´ì¬í•˜ëŠ” ëª¨ë“  êµ¬ì¡°(`contracts`, `frontend`, `lib`, `.env`)ê°€ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤.  
ì¶”ì¸¡ì´ë‚˜ ì˜ˆì‹œ í´ë”ëŠ” ì—†ìœ¼ë©°, ì‹¤ì œ í´ë” ê¸°ë°˜ìœ¼ë¡œë§Œ ì‹œê°í™”í–ˆìŠµë‹ˆë‹¤.
